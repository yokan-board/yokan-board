services:
  server:
    image: yokan-server:latest
    container_name: yokan-server
    ports:
      - "3001:3001"
    volumes:
      - ./server/data:/app/data
    environment:
      INITIAL_USER_ID: user
      INITIAL_USER_PASSWORD: password
      INITIAL_USER_EMAIL: user@email-server.com
      DB_FILE: /app/data/db.sqlite
      HOST: 0.0.0.0
      JWT_SECRET: supersecretjwtkey
    restart: unless-stopped

  client:
    image: yokan-client:latest
    container_name: yokan-client
    ports:
      - "3000:3000"
    depends_on:
      - server
    environment:
      REACT_APP_SERVER_URL: http://localhost:3001/api/v1.1
      HOST: 0.0.0.0
    restart: unless-stopped
